{% extends 'ui/base.html' %}
{% load static %}

{% block content %}
<div id="app_search">
  <navbar-template></navbar-template>
  <breadcrumb-template :nav_items="nav_items"></breadcrumb-template>
  <div class="container" style="position: relative;">
    <div class="alert-container">
      <transition-group name="list" tag="div">
        <alert-template v-for="alert in alert_list" :key="alert.content" :status="alert.status">[% alert.content %]</alert-template>
      </transition-group>
    </div>
    <div class="row justify-content-center">
      <div class="col-8">
        Here is search page.
      </div>
    </div>
  </div>
</div>



{% endblock %}

{% block scripts %}
<script src="{% static 'ui/components/NavbarTemplate.js' %}"></script>
<script src="{% static 'ui/components/BreadcrumbTemplate.js' %}"></script>
<script src="{% static 'ui/components/AlertTemplate.js' %}"></script>

<script>
  new Vue({
    delimiters: ['[%', '%]'],
    el: '#app_search',
    data: {
      nav_items: [['home'], ['search']],
      alert_list: []
    },
    created: function() {
      var this_vm = this;
      var search_param = new URLSearchParams(window.location.search);
      if (search_param.get('delete')) {
        this.alert_list.push({content: "删除成功！", status: "danger"});
        setTimeout(function(){ this_vm.alert_list.shift(); }, 3000);
      }
    }
  })
</script>
{% endblock %}
